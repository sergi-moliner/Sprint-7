<div class="auth-container">
  <h2>REGISTER</h2>
  <form [formGroup]="registerForm" (ngSubmit)="register()" novalidate>
    @if (submitted && errorMessage) {
      <div class="alert alert-danger">
        {{ errorMessage }}
      </div>
    }

    <div class="form-group mt-3 mb-4">
      <input
        type="text"
        formControlName="fullName"
        class="form-control my-2 py-4 costum-input border-0"
        placeholder="Full Name"
      />
      @if (registerForm.controls['fullName'].invalid && (registerForm.controls['fullName'].dirty || registerForm.controls['fullName'].touched)) {
        <div class="text-danger mt-1">
          <small>@if (registerForm.controls['fullName'].errors?.['required']) { Full Name is required }</small>
        </div>
      }
    </div>

    <div class="form-group mt-3 mb-4">
      <input
        type="email"
        formControlName="email"
        class="form-control my-2 py-4 costum-input border-0"
        placeholder="Email"
      />
      @if (registerForm.controls['email'].invalid && (registerForm.controls['email'].dirty || registerForm.controls['email'].touched)) {
        <div class="text-danger mt-1">
          <small>@if (registerForm.controls['email'].errors?.['required']) { Email is required }</small>
          <small>@if (registerForm.controls['email'].errors?.['email']) { Please enter a valid email address }</small>
        </div>
      }
    </div>

    <div class="form-group mt-3 mb-4">
      <input
        type="password"
        formControlName="password"
        class="form-control my-2 py-4 costum-input border-0"
        placeholder="Create password"
      />
      @if (registerForm.controls['password'].invalid && (registerForm.controls['password'].dirty || registerForm.controls['password'].touched)) {
        <div class="text-danger mt-1">
          <small>@if (registerForm.controls['password'].errors?.['required']) { Password is required }</small>
          <small>@if (registerForm.controls['password'].errors?.['minlength']) { Password must be at least 6 characters long }</small>
        </div>
      }
    </div>

    <div class="form-group mt-3 mb-4">
      <input
        type="password"
        formControlName="confirmPassword"
        class="form-control my-2 py-4 costum-input border-0"
        placeholder="Confirm password"
      />
      @if (registerForm.controls['confirmPassword'].invalid && (registerForm.controls['confirmPassword'].dirty || registerForm.controls['confirmPassword'].touched)) {
        <div class="text-danger mt-1">
          <small>@if (registerForm.errors?.['mismatch']) { Passwords should match }</small>
          <small>@if (registerForm.controls['confirmPassword'].errors?.['required']) { Confirm the password }</small>
        </div>
      }
    </div>

    <button type="submit" class="btn btn-primary">REGISTER</button>
  </form>
</div>
